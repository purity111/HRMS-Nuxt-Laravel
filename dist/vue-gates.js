!function(e,s){"object"==typeof exports&&"undefined"!=typeof module?module.exports=s():"function"==typeof define&&define.amd?define(s):(e=e||self).VueGates=s()}(this,function(){"use strict";function l(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}function t(u){return function(e,s){var n,r,t,o,i;s.value?u.prototype.$gate.isSuperUser()||(t="can"===(r=s).name?"permission":r.name,o="has",r.arg&&("unless"===r.arg?o="unless":"has"!==r.arg&&(o+=l(r.arg))),"hasAll"===o&&(t+="s"),n="".concat(o).concat(l(t)),u.prototype.$gate[n](s.value)||(i=s.modifiers,0===Object.keys(i).length?e.parentNode.removeChild(e):Object.assign(e,s.modifiers))):console.error("You must specify a value in the directive.")}}return{install:function(o,e){var s=1<arguments.length&&void 0!==e?e:{},n=s.persistent&&process.browser,r={permissions:(n?JSON.parse(localStorage.getItem("permissions")):[])||[],roles:(n?JSON.parse(localStorage.getItem("roles")):[])||[],superRole:s.superRole};o.prototype.$gate={setPermissions:function(e){r.permissions=e,n&&localStorage.setItem("permissions",JSON.stringify(e))},setRoles:function(e){r.roles=e,n&&localStorage.setItem("roles",JSON.stringify(e))},getPermissions:function(){return r.permissions},getRoles:function(){return r.roles},isSuperUser:function(){return r.superRole&&r.roles.includes(r.superRole)},hasPermission:function(e){return r.permissions.includes(e)},unlessPermission:function(e){return!o.prototype.$gate.hasPermission(e)},hasAnyPermission:function(e){return e.split("|").some(function(e){return r.permissions.includes(e)})},hasAllPermissions:function(e){return e.split("|").every(function(e){return r.permissions.includes(e)})},hasRole:function(e){return r.roles.includes(e)},unlessRole:function(e){return!o.prototype.$gate.hasRole(e)},hasAnyRole:function(e){return e.split("|").some(function(e){return r.roles.includes(e)})},hasAllRoles:function(e){return e.split("|").every(function(e){return r.roles.includes(e)})}},o.directive("permission",{inserted:t(o)}),o.directive("can",{inserted:t(o)}),o.directive("role",{inserted:t(o)}),o.directive("role-or-permission",{inserted:function(e,s){var n,r,t;s.value?(r=(n=s.value.split("|"))[0],t=n[1],o.prototype.$gate.hasRole(r)||o.prototype.$gate.hasPermission(t)||e.parentNode.removeChild(e)):console.error("You must specify a value in the directive.")}})}}});
